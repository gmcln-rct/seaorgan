<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="./dist/main.css">
    <!-- UI Thin Progress Bar -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/nprogress/0.2.0/nprogress.min.css"
        integrity="sha256-pMhcV6/TBDtqH9E9PWKgS+P32PVguLG8IipkPyqMtfY=" crossorigin="anonymous" />


    <title>The Sea Organ</title>
    
</head>
<body>
    <h1>The Sea Organ - Index</h1>

<tone-demo autoplay>
    <tone-keyboard octaves="2"></tone-keyboard>
</tone-demo>

    <div id="content">
        <H3 id="loading">Loading...</H3>
        <div class="container">
            <p> (Select Instruments) </p>
            <div id="Selector"></div>
            <br />
            <div id="Keyboard"></div>
        </div>
    
    </div>


    <div id="app"></div>
    <script src="./dist/main.js"></script>

    <!-- Build audio interface -->
    <script type="text/javascript" src="./src/scripts/nexusUI.js"></script>
    <!-- Progress Bar -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/nprogress/0.2.0/nprogress.js"
        integrity="sha256-a5YRB27CcBwBFcT5EF/f3E4vzIqyHrSR878nseNYw64=" crossorigin="anonymous"></script>
    <!-- Tone Audio Synthesis -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/13.0.1/Tone.min.js"></script>
    <!-- Instruments -->
    <script type="text/javascript" src="./src/scripts/instruments.js"></script>

    <!-- Keybaoard -->
    <script type="text/javascript" src="./src/scripts/keyboard.js"></script>


    <script>
        const synth = new Tone.AMSynth().toMaster()

            //attach a listener to the keyboard events
            document.querySelector('tone-keyboard').addEventListener('noteon', e => {
                synth.triggerAttack(e.detail.name)
            })

            document.querySelector('tone-keyboard').addEventListener('noteoff', e => {
                synth.triggerRelease()
            })
    </script>


</body>
</html>